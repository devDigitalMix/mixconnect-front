/* eslint-disable no-unused-vars */
import { useContext, useEffect, useState } from "react";
import { Input } from "../../components/Input/Input";
import { marked } from "marked";
import {
  createPropostaService,
  findPropostaById,
  updatePropostaService,
} from "../../services/propostaService";
import { useNavigate, useParams } from "react-router-dom";
import Cookies from "js-cookie";
import { getPlansService } from "../../services/planService";
import { userLogged } from "../../services/employeeService";
import { UserContext } from "../../Context/UserContent";
import { PropostaContainer } from "../PropostaCreate/PropostaCreateStyled";
import { createClientService } from "../../services/clientService";
import { PreBriefingContainer } from "./CreatePreBriefingStyled";

export function CreatePreBriefing() {
  const [received, setReceived] = useState(false);
  const [proposta, setProposta] = useState(false);
  const [thinking, setThinking] = useState(false);
  const [analise, setAnalise] = useState(false);
  const [jaInveste, setJaInveste] = useState(false);
  const [response, setResponse] = useState("");
  const [response2, setResponse2] = useState("");
  const { id } = useParams();
  const navigate = useNavigate();

  async function handleCreatePreBriefing(event) {}

  async function getProposta() {
    const response = await findPropostaById(id);

    setProposta(response.data);
    setReceived(true);
  }

  const handleAnaliseChange = (e) => {
    const valor = e.target.value === "true"; // converte string para boolean
    setAnalise(valor);
  };
  const handleJaInvesteChange = (e) => {
    const valor = e.target.value === "true"; // converte string para boolean
    setJaInveste(valor);
  };

  async function testeIA(event) {
    event.preventDefault();
    const formData = new FormData(event.target);
    const data = Object.fromEntries(formData.entries());
    console.log(data);
    const labels = {
      name: "Nome da Empresa",
      whatsapp: "Whatsapp do cliente",
      plan: "Plano Contratado",
      consultor: "Consultor comercial",
      respComercial: "ResponsÃ¡vel comercial",
      respOnboarding: "ResponsÃ¡vel pelo onboarding",
      google: "Valor de Teto para Google ADS",
      googleSugestion: "Valor Sugerido para Google ADS",
      meta: "Valor de Teto para Meta ADS",
      metaSugestion: "Valor Sugerido para Meta ADS",
      tikTok: "Valor de Teto para TikTok ADS",
      tikTokSugestion: "Valor Sugerido para TikTok ADS",
      linkedin: "Valor de Teto para Linkedin ADS",
      linkedinSugestion: "Valor Sugerido para Linkedin ADS",
      analise: "Se foi feita uma AnÃ¡lise de Conta ads atual do cliente",
      jaInveste: "Cliente JÃ¡ investe em alguma plataforma",
      investeValorePlataforma: "Valor e Plataforma que investe",
      siteAtual: "Link do site atual do cliente",
      regiaoAnuncio: "RegiÃ£o que serÃ¡ feito o trÃ¡fego",
      experienciaCliente: "Experiencia do cliente com trÃ¡fego",
      publicoAlvoTrafego: "PÃºblico alvo para trÃ¡fego",
      objetivoTrafego: "Objetivo da campanha",
      infoTrafego: "Mais informaÃ§Ãµes sobre o trÃ¡fego",
      site: "Quantos sites serÃ£o feitos",
      dobrasSite: "NÃºmero de dobras que terÃ¡ o site",
      secoesSite: "NÃºmero de seÃ§Ãµes que terÃ¡ o site",
      mixtree: "Quantos mixtrees serÃ£o feitos",
      catalogo: "Quantos catÃ¡logos serÃ£o feitos",
      dobrasCatalogo: "NÃºmero de dobras que terÃ¡ o catÃ¡logo",
      smart: "Quantas pages Smart serÃ£o feitas",
      secoesSmart: "NÃºmero de seÃ§Ãµes que terÃ¡ o smart",
      lp: "Quantas LP's serÃ£o feitas",
      secoesLp: "NÃºmero de seÃ§Ãµes que terÃ¡ a lp",
      tecQueAvaliou: "TÃ©cnico que avaliou a conta",
      referenciaRedes: "Redes Sociais de ReferÃªncia",
      sitesReferencia: "Sites de ReferÃªncia",
      secoesDobrasDesejadas: "SeÃ§Ãµes e dobras desejadas",
      sobreDominio: "InformaÃ§Ãµes sobre o domÃ­nio",
      publicoAlvoSite: "PÃºblico alvo orgÃ¢nico do site",
      infoSite: "Outras informaÃ§Ãµes sobre o site",
      referenciaLogotipo: "ReferÃªncia para criaÃ§Ã£o de logotipo",
      papelaria: "Alguma sugestÃ£o de papelaria",
      publicoAlvoLogo: "PÃºblico alvo da logotipo",
      infoLogotipo: "Outras informaÃ§Ãµes sobre a logotipo",
      sobreEmpresa: "Outras informaÃ§Ãµes sobre a empresa",
      gmb: "NÃºmero de perfis GMB que cliente terÃ¡",
      possuiGmb: "Cliente jÃ¡ possui GMB",
      linkGmb: "Link do perfil GMB atual",
      infoGmb: "Outras informaÃ§Ãµes sobre o GMB",
      posts: "NÃºmero limite de criativos para redes sociais mensalmente",
      redesPosts: "Em quais redes serÃ£o publicadas",
      linkRede: "Link da rede social do cliente",
      publicoAlvoRedes: "PÃºblico alvo das redes sociais",
      objetivoRedes: "Objetivo das redes sociais",
      infoRedes: "Outras informaÃ§Ãµes sobre as redes sociais",
      nVisitas: "NÃºmero de visitas para captaÃ§Ã£o",
      tempoCap: "DuraÃ§Ã£o das captaÃ§Ãµes",
      localCaptacao: "Onde ocorrerÃ£o as captaÃ§Ãµes",
      publicoAlvoAeV: "PÃºblico alvo dos VÃ­deos",
      objetivoAeV: "Objetivo dos vÃ­deos",
      outrasInfos: "Outras informaÃ§Ãµes gerais sobre o projeto",
    };

    const infoFormatada = Object.entries(data)
      .filter(([_, value]) => {
        if (typeof value === "boolean") return true;
        return value && value.toString().trim() !== "";
      })
      .map(([key, value]) => {
        const label = labels[key] || key;

        // FormataÃ§Ã£o booleana (sim/nÃ£o)
        if (typeof value === "boolean") {
          return `${label}: ${value ? "Sim" : "NÃ£o"}`;
        }

        // Tratamento especial para links
        if (
          typeof value === "string" &&
          (value.startsWith("http://") || value.startsWith("https://"))
        ) {
          return `${label}: ${value}`; // nÃ£o usa markdown, nÃ£o coloca parÃªnteses
        }

        return `${label}: ${value}`;
      })
      .join("\n");

    const meuPrompt = `VocÃª Ã© um redator que deve gerar um **prÃ©-briefing** para uma agÃªncia de marketing digital com base nas informaÃ§Ãµes fornecidas abaixo.

Sua tarefa Ã© montar um **texto corrido** explicando a situaÃ§Ã£o do cliente, seus objetivos, e qualquer outra informaÃ§Ã£o relevante. **NÃ£o crie listas com campos e respostas**, exceto para os seguintes itens (caso existam):

- **Nome do cliente**
- **Contato**
- **Link do site** sempre exibir com "https://"

Cuidado pois esse conteÃºdo que voce escrever passarÃ¡ por um markdown de html, por isso a forma como voce escrever os links pode desorganizar o texto, entao evite parentesis

Se uma categoria (por exemplo, trÃ¡fego pago ou redes sociais) **nÃ£o for mencionada nas informaÃ§Ãµes ou tenha todos os campos zerados ou vazios**, ignore completamente esse assunto â€” isso significa que o cliente **nÃ£o deseja esse tipo de serviÃ§o**.

Elabore um parÃ¡grafo fluido com base nos dados.

Aqui estÃ£o as informaÃ§Ãµes:
${infoFormatada}
`;
    const meuPrompt2 = `VocÃª Ã© um redator que deve gerar um **prÃ©-briefing** para uma agÃªncia de marketing digital com base nas informaÃ§Ãµes fornecidas abaixo.

Sua tarefa Ã© montar uma lista explicando a situaÃ§Ã£o do cliente, seus objetivos, e qualquer outra informaÃ§Ã£o relevante.

- **Nome do cliente**
- **Contato**
- **Link do site** sempre exibir com "https://"

Cuidado pois esse conteÃºdo que voce escrever passarÃ¡ por um markdown de html, por isso a forma como voce escrever os links pode desorganizar o texto, entÃ£o evite parÃªntesis

Se uma categoria (por exemplo, trÃ¡fego pago ou redes sociais) **nÃ£o for mencionada nas informaÃ§Ãµes ou tenha todos os campos zerados ou vazios**, ignore completamente esse assunto â€” isso significa que o cliente **nÃ£o deseja esse tipo de serviÃ§o**.

Elabore um parÃ¡grafo fluido com base nos dados.

Aqui estÃ£o as informaÃ§Ãµes:
${infoFormatada}
`;
    const hoje = new Date();
    console.log("Dia de hoje:", hoje);
    const promptTest = `
Responda com uma Ãºnica frase curta o que estÃ¡ sendo comemorado hoje (${hoje}) no Brasil.

- A resposta serÃ¡ exibida em uma tela de aviso, portanto deve ser curta e impactante.
- Se fizer sentido, inclua um emoji relacionado Ã  comemoraÃ§Ã£o.
- Caso haja mais de uma comemoraÃ§Ã£o no dia, escolha a mais interessante, curiosa ou inusitada.
- Ignore datas genÃ©ricas ou comuns como feriados religiosos populares, a menos que sejam muito relevantes.
- Exemplo de resposta correta: "Dia do Disco Voador ðŸ›¸"
- Ã© necessÃ¡rio utilizar a internet para garantir que a informaÃ§Ã£o esteja correta e atualizada.
- Responda apenas com a comemoraÃ§Ã£o, sem explicaÃ§Ãµes, sem introduÃ§Ãµes e sem saudaÃ§Ãµes.
`;
    const apiKey = import.meta.env.OPENAI_API_KEY;
    fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        Authorization: `Bearer ${apiKey}`,
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        name: "MixBot",
        model: "gpt-4.1-mini",
        tools: [
          { type: "browser" }, // âœ… ativa a Web Search!
        ],
        messages: [
          {
            role: "user",
            content: promptTest,
          },
        ],
        temperature: 1,
      }),
    })
      .then((res) => res.json())
      .then((data) => {
        console.log("Resposta:", data.choices[0].message.content);
        setResponse(marked(data.choices[0].message.content));
      })
      .catch((err) => console.error("Erro:", err));

    // fetch("https://openrouter.ai/api/v1/chat/completions", {
    //   method: "POST",
    //   headers: {
    //     Authorization: `Bearer ${API_KEY}`,
    //     "Content-Type": "application/json",
    //   },
    //   body: JSON.stringify({
    //     model: "deepseek/deepseek-chat-v3-0324:free",
    //     messages: [
    //       {
    //         role: "user",
    //         content: meuPrompt2,
    //       },
    //     ],
    //   }),
    // })
    //   .then((res) => res.json())
    //   .then((data) => {
    //     console.log("Resposta:", data);
    //     setThinking(false);
    //     setResponse2(marked(data.choices[0].message.content));
    //   })
    //   .catch((err) => {
    //     console.error("Erro:", err);
    //     setThinking(false);
    //   });
  }

  useEffect(() => {
    getProposta();
  }, []);

  return received ? (
    <PreBriefingContainer onSubmit={testeIA}>
      <div className="section">
        <div className="campo">
          <label htmlFor="name">Empresa</label>
          <Input type="text" name="name" value={proposta.name} readOnly />
        </div>
        <div className="campo">
          <label htmlFor="whatsapp">Whatsapp</label>
          <Input
            type="text"
            name="whatsapp"
            value={proposta.whatsapp}
            readOnly
          />
        </div>
        <div className="campo">
          <label htmlFor="plan">Plano</label>
          <Input type="text" name="plan" value={proposta.plan} readOnly />
        </div>
        <div className="campo">
          <label htmlFor="consultor">Consultor</label>
          <Input
            type="text"
            name="consultor"
            value={proposta.consultor}
            readOnly
          />
        </div>
        <div className="campo">
          <label htmlFor="respComercial">ResponsÃ¡vel Comercial</label>
          <Input
            type="text"
            name="respComercial"
            defaultValue={proposta.respComercial}
          />
        </div>
        <div className="campo">
          <label htmlFor="respOnboarding">ResponsÃ¡vel Onboarding</label>
          <Input
            type="text"
            name="respOnboarding"
            placeholder="ResponsÃ¡vel Onboarding"
          />
        </div>
      </div>
      {(proposta.google > 0 ||
        proposta.meta > 0 ||
        proposta.tikTok > 0 ||
        proposta.linkedin > 0) && (
        <div className="section">
          {proposta.google > 0 && (
            <div className="ligados">
              <div className="campo">
                <label htmlFor="google">Google ADS</label>
                <Input
                  type="text"
                  name="google"
                  value={proposta.google}
                  readOnly
                />
              </div>
              <img src="/ligadoimg.svg" />
              <Input
                type="text"
                name="googleSugestion"
                placeholder="Valor sugerido"
              />
            </div>
          )}
          {proposta.meta > 0 && (
            <div className="ligados">
              <div className="campo">
                <label htmlFor="meta">Meta ADS</label>
                <Input type="text" name="meta" value={proposta.meta} readOnly />
              </div>
              <img src="/ligadoimg.svg" />
              <Input
                type="text"
                name="metaSugestion"
                placeholder="Valor sugerido"
              />
            </div>
          )}
          {proposta.tikTok > 0 && (
            <div className="ligados">
              <div className="campo">
                <label htmlFor="tikTok">Tik Tok ADS</label>
                <Input
                  type="text"
                  name="tikTok"
                  value={proposta.tikTok}
                  readOnly
                />
              </div>
              <img src="/ligadoimg.svg" />
              <Input
                type="text"
                name="tikTokSugestion"
                placeholder="Valor sugerido"
              />
            </div>
          )}
          {proposta.linkedin > 0 && (
            <div className="ligados">
              <div className="campo">
                <label htmlFor="linkedin">Linkedin ADS</label>
                <Input
                  type="text"
                  name="linkedin"
                  value={proposta.linkedin}
                  readOnly
                />
              </div>
              <img src="/ligadoimg.svg" />
              <Input
                type="text"
                name="linkedinSugestion"
                placeholder="Valor sugerido"
              />
            </div>
          )}

          <div className={analise ? "ligados active" : "ligados"}>
            <div className="campo">
              <label htmlFor="analise">AnÃ¡lise&nbsp;de&nbsp;Conta</label>
              <select name="analise" onChange={handleAnaliseChange}>
                <option value={false}>NÃ£o</option>
                <option value={true}>Sim</option>
              </select>
            </div>
            {analise && (
              <>
                <img src="/ligadoimg.svg" />
                <Input
                  type="text"
                  name="tecQueAvaliou"
                  placeholder="TÃ©cnico que avaliou"
                />
              </>
            )}
          </div>

          <div className={jaInveste ? "ligados active" : "ligados"}>
            <div className="campo">
              <label htmlFor="jaInveste">Cliente&nbsp;jÃ¡&nbsp;Investe</label>
              <select name="jaInveste" onChange={handleJaInvesteChange}>
                <option value={false}>NÃ£o</option>
                <option value={true}>Sim</option>
              </select>
            </div>
            {/* {jaInveste && <img src="/ligadoimg.svg" />} */}
            {jaInveste && (
              <>
                <img src="/ligadoimg.svg" />
                <Input
                  type="text"
                  name="investeValorePlataforma"
                  placeholder="Valor e Plataforma"
                />
              </>
            )}
          </div>
          <div className="campo">
            <label htmlFor="siteAtual">Site do Cliente</label>
            <Input
              type="text"
              name="siteAtual"
              style={{ width: 327 }}
              placeholder="https://"
            />
          </div>
          <div className="infos">
            <div className="campo">
              <label htmlFor="regiaoAnuncio">RegiÃ£o de AnÃºncio</label>
              <textarea
                name="regiaoAnuncio"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="experienciaCliente">ExperiÃªncia do Cliente</label>
              <textarea
                name="experienciaCliente"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="publicoAlvoTrafego">PÃºblico Alvo</label>
              <textarea
                name="publicoAlvoTrafego"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="objetivoTrafego">Objetivo</label>
              <textarea
                name="objetivoTrafego"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="infoTrafego">Outras InformaÃ§Ãµes</label>
              <textarea
                name="infoTrafego"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
          </div>
        </div>
      )}

      {(proposta.site > 0 ||
        proposta.mixtree > 0 ||
        proposta.smart > 0 ||
        proposta.catalogo > 0 ||
        proposta.lp > 0) && (
        <div className="section">
          {proposta.site > 0 && (
            <div className="campo">
              <label htmlFor="site">Site Completo</label>
              <Input type="text" name="site" value={proposta.site} readOnly />
            </div>
          )}
          {proposta.dobrasSite > 0 && (
            <div className="campo">
              <label htmlFor="dobrasSite">Dobras</label>
              <Input
                type="text"
                name="dobrasSite"
                value={proposta.dobrasSite}
                readOnly
              />
            </div>
          )}
          {proposta.secoesSite > 0 && (
            <div className="campo">
              <label htmlFor="secoesSite">SeÃ§Ãµes</label>
              <Input
                type="text"
                name="secoesSite"
                value={proposta.secoesSite}
                readOnly
              />
            </div>
          )}
          {proposta.mixtree > 0 && (
            <div className="campo">
              <label htmlFor="mixtree">Mixtree</label>
              <Input
                type="text"
                name="mixtree"
                value={proposta.mixtree}
                readOnly
              />
            </div>
          )}

          {proposta.catalogo > 0 && (
            <div className="campo">
              <label htmlFor="catalogo">CatÃ¡logo</label>
              <Input
                type="text"
                name="catalogo"
                value={proposta.catalogo}
                readOnly
              />
            </div>
          )}
          {proposta.dobrasCatalogo > 0 && (
            <div className="campo">
              <label htmlFor="dobrasCatalogo">Dobras</label>
              <Input
                type="text"
                name="dobrasCatalogo"
                value={proposta.dobrasCatalogo}
                readOnly
              />
            </div>
          )}
          {proposta.smart > 0 && (
            <div className="campo">
              <label htmlFor="smart">Page Smart</label>
              <Input type="text" name="smart" value={proposta.smart} readOnly />
            </div>
          )}
          {proposta.secoesSmart > 0 && (
            <div className="campo">
              <label htmlFor="secoesSmart">SeÃ§Ãµes</label>
              <Input
                type="text"
                name="secoesSmart"
                value={proposta.secoesSmart}
                readOnly
              />
            </div>
          )}
          {proposta.lp > 0 && (
            <div className="campo">
              <label htmlFor="lp">LP</label>
              <Input type="text" name="lp" value={proposta.lp} readOnly />
            </div>
          )}
          {proposta.secoesLp > 0 && (
            <div className="campo">
              <label htmlFor="secoesLp">SeÃ§Ãµes</label>
              <Input
                type="text"
                name="secoesLp"
                value={proposta.secoesLp}
                readOnly
              />
            </div>
          )}

          <div className="campo">
            <label>Site do Cliente</label>
            <Input type="text" style={{ width: 327 }} placeholder="https://" />
          </div>
          <div className="campo">
            <label htmlFor="referenciaRedes">Redes Sociais de ReferÃªncia</label>
            <Input
              type="text"
              name="referenciaRedes"
              style={{ width: 327 }}
              placeholder="Redes Sociais de ReferÃªncia"
            />
          </div>
          <div className="campo">
            <label htmlFor="sitesReferencia">Sites de ReferÃªncia</label>
            <Input
              type="text"
              name="sitesReferencia"
              style={{ width: 327 }}
              placeholder="Sites de ReferÃªncia"
            />
          </div>
          <div className="infos">
            <div className="campo">
              <label htmlFor="secoesDobrasDesejadas">
                SeÃ§Ãµes ou Dobras Desejadas
              </label>
              <textarea
                name="secoesDobrasDesejadas"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="sobreDominio">InformaÃ§Ãµes sobre o DomÃ­nio</label>
              <textarea
                name="sobreDominio"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="publicoAlvoSite">PÃºblico Alvo</label>
              <textarea
                name="publicoAlvoSite"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="infoSite">Outras InformaÃ§Ãµes</label>
              <textarea name="infoSite" placeholder="Insira mais informaÃ§Ãµes" />
            </div>
          </div>
        </div>
      )}

      <div className="section">
        <div className="campo">
          <label htmlFor="referenciaLogotipo">ReferÃªncias</label>
          <Input
            type="text"
            name="referenciaLogotipo"
            placeholder="Referencia logo"
          />
        </div>
        <div className="infos">
          <div className="campo">
            <label htmlFor="papelaria">Papelaria</label>
            <textarea name="papelaria" placeholder="Insira mais informaÃ§Ãµes" />
          </div>
          <div className="campo">
            <label htmlFor="publicoAlvoLogo">PÃºblico Alvo</label>
            <textarea
              name="publicoAlvoLogo"
              placeholder="Insira mais informaÃ§Ãµes"
            />
          </div>
          <div className="campo">
            <label htmlFor="infoLogotipo">Outras InformaÃ§Ãµes</label>
            <textarea
              name="infoLogotipo"
              placeholder="Insira mais informaÃ§Ãµes"
            />
          </div>
          <div className="campo">
            <label htmlFor="sobreEmpresa">Sobre a Empresa</label>
            <textarea
              name="sobreEmpresa"
              placeholder="Insira mais informaÃ§Ãµes"
            />
          </div>
        </div>
      </div>
      {proposta.gmb > 0 && (
        <div className="section">
          <div className="campo">
            <label htmlFor="gmb">Perfil(s)</label>
            <Input
              type="text"
              name="gmb"
              defaultValue={proposta.gmb}
              placeholder="Gmb"
            />
          </div>
          <div className="campo">
            <label htmlFor="possuiGmb">JÃ¡ Possui Perfil?</label>
            <select name="possuiGmb">
              <option value={false}>NÃ£o</option>
              <option value={true}>Sim</option>
            </select>
          </div>
          <div className="campo">
            <label htmlFor="linkGmb">Link do Perfil</label>
            <Input
              type="text"
              name="linkGmb"
              style={{ width: 327 }}
              placeholder="https://"
            />
          </div>
          <div className="campo">
            <label htmlFor="infoGmb">Outras InformaÃ§Ãµes</label>
            <textarea name="infoGmb" placeholder="Insira mais InformaÃ§Ãµes" />
          </div>
        </div>
      )}
      {proposta.posts > 0 && (
        <div className="section">
          <div className="ligados active">
            <div className="campo">
              <label htmlFor="posts">Quantidade&nbsp;de&nbsp;Criativos</label>
              <Input type="text" name="posts" defaultValue={proposta.posts} />
            </div>
            <img src="/ligadoimg.svg" alt="" />
            <Input
              type="text"
              name="redesPosts"
              placeholder="Em quais redes serÃ£o publicadas"
            />
          </div>
          <div className="campo">
            <label htmlFor="linkRede">Link do Perfil</label>
            <Input type="text" name="linkRede" placeholder="https://" />
          </div>
          <div className="infos">
            <div className="campo">
              <label htmlFor="publicoAlvoRedes">PÃºblico Alvo</label>
              <textarea
                name="publicoAlvoRedes"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="objetivoRedes">Objetivo</label>
              <textarea
                name="objetivoRedes"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="infoRedes">Outras InformaÃ§Ãµes</label>
              <textarea
                name="infoRedes"
                placeholder="Insira mais informaÃ§Ãµes"
              />
            </div>
          </div>
        </div>
      )}
      {proposta.nVisitas > 0 && (
        <div className="section">
          <div className="campo">
            <label htmlFor="nVisitas">Visitas ao MÃªs</label>
            <Input
              type="text"
              name="nVisitas"
              value={proposta.nVisitas}
              readOnly
            />
          </div>
          <div className="campo">
            <label htmlFor="tempoCap">Tempo de CaptaÃ§Ã£o</label>
            <Input
              type="text"
              name="tempoCap"
              value={proposta.tempoCap + " horas"}
              readOnly
            />
          </div>
          <div className="campo">
            <label htmlFor="localCaptacao">Local da CaptaÃ§Ã£o</label>
            <Input
              type="text"
              name="localCaptacao"
              placeholder="Onde ocorrerÃ£o as captaÃ§Ãµes"
            />
          </div>
          <div className="infos">
            <div className="campo">
              <label htmlFor="publicoAlvoAeV">PÃºblico Alvo</label>
              <textarea
                name="publicoAlvoAeV"
                placeholder="Insira mais InformaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="objetivoAeV">Objetivo</label>
              <textarea
                name="objetivoAeV"
                placeholder="Insira mais InformaÃ§Ãµes"
              />
            </div>
            <div className="campo">
              <label htmlFor="infoAeV">Outras InformaÃ§Ãµes</label>
              <textarea name="infoAeV" placeholder="Insira mais InformaÃ§Ãµes" />
            </div>
          </div>
        </div>
      )}
      <div className="campo">
        <label htmlFor="outrasInfos">InformaÃ§Ãµes Adicionais</label>
        <textarea name="outrasInfos" placeholder="Insira mais InformaÃ§Ãµes" />
      </div>

      <button className="btn">Enviar</button>
      {thinking && <div className="custom-loader"></div>}
      {response !== "" && (
        <div className="chat" dangerouslySetInnerHTML={{ __html: response }} />
      )}
      {response2 !== "" && (
        <div className="chat" dangerouslySetInnerHTML={{ __html: response2 }} />
      )}
    </PreBriefingContainer>
  ) : null;
}
